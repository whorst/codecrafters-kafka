package parser

import (
	"fmt"
	"testing"
)

func TestKafkaProtocolParserDescribeTopic_ParseRequest(t *testing.T) {
	parser := NewKafkaProtocolParserDescribeTopic()

	data := []byte{
		0x00, 0x00, 0x00, 0x20,
		0x00, 0x4b,
		0x00, 0x00,
		0x00, 0x00, 0x00, 0x07,
		0x00, 0x09,
		0x6b, 0x61, 0x66, 0x6b, 0x61, 0x2d, 0x63, 0x6c, 0x69,
		0x00,
		0x03,
		0x04,
		0x66, 0x6f, 0x6f,
		0x00,
		0x04,
		0x66, 0x6f, 0x6f,
		0x00,
		0x00, 0x00, 0x00, 0x64,
		0xff,
		0x00,
	}

	result, err := parser.ParseRequest(data)
	fmt.Println(result)
	if err != nil {
		t.Fatalf("ParseRequest() error = %v", err)
	}

	if result == nil {
		t.Fatal("ParseRequest() returned nil result")
	}

	// Add assertions here based on your test data
	_ = result
}
